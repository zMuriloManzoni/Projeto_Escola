CREATE TABLE ALUNOS (
    ID_ALUNO         INTEGER GENERATED BY DEFAULT AS IDENTITY,
    NOME             VARCHAR(350),
    CPF              VARCHAR(30),
    SEXO             VARCHAR(30),
    DATA_NASCIMENTO  TIMESTAMP,
    EMAIL            VARCHAR(300),
    SERIE            VARCHAR(100),
    EXCLUIDO         BOOLEAN
);


ALTER TABLE ALUNOS ADD CONSTRAINT PK_ALUNOS PRIMARY KEY (ID_ALUNO);


//----------------------------------------------------------------------//

CREATE TABLE PROFESSORES (
    ID_PROFESSOR     INTEGER GENERATED BY DEFAULT AS IDENTITY,
    NOME             VARCHAR(350),
    CPF              VARCHAR(30),
    SEXO             VARCHAR(30),
    DATA_NASCIMENTO  TIMESTAMP,
    EMAIL            VARCHAR(300),
    DISCIPLINA       VARCHAR(200),
    EXCLUIDO         BOOLEAN
);

ALTER TABLE PROFESSORES ADD CONSTRAINT PK_PROFESSOR PRIMARY KEY (ID_PROFESSOR);


//----------------------------------------------------------------------//

CREATE TABLE PROFESSOR_ALUNO (
    ID_PROFESSOR_ALUNO  INTEGER GENERATED BY DEFAULT AS IDENTITY,
    ID_PROFESSOR        INTEGER,
    ID_ALUNO            INTEGER,
    ANO                 VARCHAR(10),
    NOTA_1_BIMESTRE     FLOAT,
    NOTA_2_BIMESTRE     FLOAT,
    NOTA_3_BIMESTRE     FLOAT,
    NOTA_4_BIMESTRE     FLOAT,
    EXCLUIDO            BOOLEAN
);

ALTER TABLE PROFESSOR_ALUNO ADD CONSTRAINT PK_PROFESSOR_ALUNO PRIMARY KEY (ID_PROFESSOR_ALUNO);

ALTER TABLE PROFESSOR_ALUNO ADD CONSTRAINT FK_PROFESSOR_ALUNO_1 FOREIGN KEY (ID_PROFESSOR) REFERENCES PROFESSORES (ID_PROFESSOR);
ALTER TABLE PROFESSOR_ALUNO ADD CONSTRAINT FK_PROFESSOR_ALUNO_2 FOREIGN KEY (ID_ALUNO) REFERENCES ALUNOS (ID_ALUNO);